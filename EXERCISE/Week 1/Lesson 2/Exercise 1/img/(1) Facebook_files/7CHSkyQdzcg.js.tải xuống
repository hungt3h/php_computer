if (self.CavalryLogger) { CavalryLogger.start_js(["NuVKE"]); }

__d("addLocalGroupFeedInlineMessage",["CometRelay","cometUniqueID","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.addLocalVideoFeedMessage=a;f.removeLocalFeedMessage=c;function g(a,c,d){a=a.get(c);if(a==null){b("recoverableViolation")("Group Feed Inline Message Updater: Could not find group edge in store","groups_comet");return}c=a.getLinkedRecords("local_feed_inline_messages")||[];a.setLinkedRecords([].concat(c,[d]),"local_feed_inline_messages")}function a(a,c,d){b("CometRelay").commitLocalUpdate(a,function(a){var e="client:LocalGroupFeedVideoInlineMessage:"+b("cometUniqueID")(),f=a.create(e,"LocalGroupFeedVideoInlineMessage");f.setValue(String(e),"id");f.setValue(String(c),"group_id");f.setValue(String(d),"message");g(a,c,f)})}function c(a,c,d){b("CometRelay").commitLocalUpdate(a,function(a){var e=a.get(c);if(e==null){b("recoverableViolation")("Group Feed Inline Message Updater: Could not find group edge in store","groups_comet");return}var f=e.getLinkedRecords("local_feed_inline_messages")||[];f=f.filter(function(a){return(a==null?void 0:a.getDataID())!==d});a["delete"](d);e.setLinkedRecords(f,"local_feed_inline_messages")})}}),null);