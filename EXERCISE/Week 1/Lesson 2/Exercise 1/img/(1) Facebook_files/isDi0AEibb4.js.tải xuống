if (self.CavalryLogger) { CavalryLogger.start_js(["ReDrH"]); }

__d("MWLSSnippetRenderer.bs",["React","SkytaleDB","bs_caml_option","MWThreadKey.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","MWLSThreadSnippetForDisplay.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return a.m})},[c,d]));if(a!==void 0)return b("MWLSThreadSnippetForDisplay.bs").make(b("bs_caml_option").valFromOption(a));else return null}f.useHook=a}),null);
__d("MWLSChatHeadSummary.bs",["React","bs_caml_option","MWLSSnippetRenderer.bs","MWChatHeadSummaryPopout.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.threadTitle;a=a.unread;var d=b("MWLSSnippetRenderer.bs").useHook(void 0);a={unread:a,content:d};c!==void 0&&(a.title=b("bs_caml_option").valFromOption(c));return g.jsx(b("MWChatHeadSummaryPopout.bs").make,a)}c=a;f.make=c}),null);
__d("MWChatMultitabHead.bs",["ix","fbt","ODS","bs_curry","bs_int64","React","gkx","bs_caml_obj","fbicon","stylex","MWChatOpenTab.bs","MWChatThreadId.bs","TetraIcon.react","CometBadge.react","MWChatCollapseTab.bs","MWChatHeadPicture.bs","MWChatHeadsShared.bs","MWLSPreloadThread.bs","profilePhotoUtils","MWLSChatThreadHook.bs","MWLSChatHeadSummary.bs","MWLSLoadThreadTitle.bs","MWThread_DEPRECATED.bs","CometPressable.react","MWChatConfirmTabClose.bs","MWLSLoadThreadPicture.bs","MessengerWebEntryPoint","MWChatCurrentlyOpenTabs.bs","MWChatMultitabStateHook.bs","CometNumberedBadge.react","CometContextualLayer.react","MWLSPresenceIsThreadActive.bs","MWLSThreadUnreadMessageCount.bs","MWChatMultitabHeadTypingIndicator.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={activeBadge:{position:"pmk7jnqg"},badgeHidden:{opacity:"b5wmifdl"},badgeShrunk:{transform:"w7z42tov"},chatHeadArea:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"m7zwrmfr",width:"tmrshh9y"},closeButton:{display:"j83agx80",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",position:"pmk7jnqg",end:"aew9gpjp",top:"pixltzyo",opacity:"b5wmifdl",transform:"qpbg1qsm",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z"},closeButtonIcon:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",backgroundColor:"nred35xi",boxShadow:"akv41dx8",height:"jnigpg78",width:"odw8uiq3"},closeButtonShown:{opacity:"pedkr2u6",transform:"g3zh7qmp"},unreadBadge:{end:"aew9gpjp",position:"pmk7jnqg",top:"pixltzyo",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z"},unstyled:{display:"q9uorilb",position:"l9j0dhe7",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"}};function a(a){var c=a.isSummaryShown,d=a.onHover,e=b("MWThread_DEPRECATED.bs").useIdExn(void 0);b("MWLSChatThreadHook.bs").useThread(e);a=b("MWLSThreadUnreadMessageCount.bs").useHook(void 0);var f=j.useRef(null),l=j.useState(function(){return!1}),m=l[1],n=l[0];l=j.useState(function(){return!1});var o=l[1],p=l[0];l=j.useState(function(){return!1});var q=l[1],r=l[0];l=j.useState(function(){return!1});var s=l[1],t=l[0];l=b("MWChatConfirmTabClose.bs").useHook(void 0);var u=l[0],v=b("MWChatCollapseTab.bs").useHook(b("MessengerWebEntryPoint").CHAT_HEADS),w=b("MWChatOpenTab.bs").useHook_DEPRECATED(b("MessengerWebEntryPoint").CHAT_HEADS);l=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);l=b("MWChatCurrentlyOpenTabs.bs").get(l);var x=l.findIndex(function(a){return b("bs_caml_obj").caml_equal(a.threadID,{_0:e})})>-1;l=j.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_heads","toggle");if(x)return b("bs_curry")._1(v,e);else{b("bs_curry")._1(w,e);return b("bs_curry")._1(d,function(a){return!1})}},[x,e,v,w,d]);var y=b("MWLSLoadThreadPicture.bs").useHook(void 0),z=b("MWLSLoadThreadTitle.bs").useHook(void 0);z=z[0];var A=b("MWChatThreadId.bs").getMercuryID(e),B=b("MWLSPresenceIsThreadActive.bs").useHook(void 0),C=b("profilePhotoUtils").getBadgeSizeAndStrokeWidth(48),D=b("profilePhotoUtils").getBadgePosition(24),E=a>0?j.jsx("div",{children:j.jsx(b("CometNumberedBadge.react"),{value:a}),"aria-label":h._({"*":"{number} tin nh\u1eafn ch\u01b0a \u0111\u1ecdc","_1":"1 tin nh\u1eafn ch\u01b0a \u0111\u1ecdc"},[h._plural(a,"number")]),className:(i||(i=b("stylex")))(k.unreadBadge,n||p?k.badgeHidden:!1)},"unreadBadge"):j.jsx("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.badgeHidden,k.badgeShrunk)},"unreadBadge");B=B?j.jsx("div",{children:j.jsx(b("CometBadge.react"),{color:"green",isProfileBadge:!0,border:"white",size:C[0]}),className:(i||(i=b("stylex")))(k.activeBadge),style:{bottom:D.bottom,left:D.left,right:D.right,transform:D.transform}},"activeBadge"):null;C=j.jsx(b("CometPressable.react"),{"aria-label":h._("\u0110\u00f3ng"),onHoverChange:function(a){b("bs_curry")._1(o,function(b){return a});return b("bs_curry")._1(d,function(b){return a})},onFocusChange:function(a){return b("bs_curry")._1(q,function(b){return a})},onPress:function(a){b("bs_curry")._1(u,void 0);return b("bs_curry")._1(d,function(a){return!1})},overlayDisabled:!0,xstyle:function(a){return[k.closeButton,n||p||r||t?k.closeButtonShown:!1]},children:j.jsx("div",{children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("478231"),12),color:"secondary"}),className:(i||(i=b("stylex")))(k.closeButtonIcon)},"close")});D=z!==void 0?h._("M\u1edf \u0111o\u1ea1n chat v\u1edbi {chat participants}",[h._param("chat participants",z)]):h._("\u0110o\u1ea1n chat kh\u00f4ng x\u00e1c \u0111\u1ecbnh");var F=b("MWThread_DEPRECATED.bs").toThreadKey(e),G=j.useMemo(function(){return F},[b("bs_int64").to_string(F)]);G=b("MWLSPreloadThread.bs").useHook(G);var H=f.current;return j.jsx(b("CometPressable.react"),{"aria-label":D,testid:"chat_head_"+A,onHoverChange:function(a){b("bs_curry")._1(m,function(b){return a});return b("bs_curry")._1(d,function(b){return a})},onHoverIn:G[0],onHoverOut:G[1],onFocusChange:function(a){return b("bs_curry")._1(s,function(b){return a})},onPress:l,overlayDisabled:!0,xstyle:function(a){return[k.unstyled,k.chatHeadArea]},children:j.jsxs("div",{children:[!(H==null)&&(n||c)?j.jsx(b("CometContextualLayer.react"),{context_DEPRECATED:H,children:j.jsx(b("MWLSChatHeadSummary.bs").make,{threadTitle:z,unread:a>0})}):null,j.jsx("div",{children:j.jsxs(b("MWChatHeadPicture.bs").make,{images:y,children:[E,B,C,b("gkx")("1774069")?j.jsx(b("MWChatMultitabHeadTypingIndicator.bs").make,{}):null]}),ref:f})],className:i(b("MWChatHeadsShared.bs").styles.chatHeadTarget)})})}c=b("MWChatHeadsShared.bs").styles;d=a;f.styles=k;f.headStyles=c;f.make=d}),null);
__d("MWChatOverflowHeadPicture.bs",["fbt","bs_curry","React","stylex","TetraText.react","MWChatHeadPicture.bs","MWUILoadThreadPicture.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={overflowCount:{position:"pmk7jnqg",width:"tmrshh9y",height:"m7zwrmfr",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",top:"kr520xx4",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"},overflowCountBackground:{backgroundColor:"d6rk862h"}};function a(a){a=a.count;var c=b("bs_curry")._1(b("MWUILoadThreadPicture.bs").useHook,void 0);return i.jsx(b("MWChatHeadPicture.bs").make,{images:c,children:i.jsx("div",{children:i.jsx(b("TetraText.react"),{color:"white",type:"bodyLink3",children:g._("+{chat count}",[g._param("chat count",String(a))])}),className:(h||(h=b("stylex")))(j.overflowCount,c.length!==0?j.overflowCountBackground:!1)}),noFacepile:!0})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatOverflowThreadTitleItems.bs",["ix","fbt","bs_curry","React","fbicon","stylex","bs_caml_option","MWThreadKey.bs","MWChatCloseTab.bs","MWChatThreadId.bs","MWMSThreadTitle.bs","TetraIcon.react","MWUIChatThreadHook.bs","MWChatTextTransform.bs","MWThread_DEPRECATED.bs","MWUILoadThreadTitle.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWUILoadParticipants.bs","MWChatOpenTabForGroup.bs","MessengerWebEntryPoint","unrecoverableViolation","CometMenuItemBase.react","CometListItemGlimmer.react","CometTextWithEntities.react","MWUIThreadUnreadMessageCount.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={auxWrapper:{display:"j83agx80",visibility:"kr9hpln1"},auxVisible:{visibility:"n1dktuyu"},glimmer:{height:"tv7at329",minWidth:"gvsi1rru"}};c=b("MWChatThreadId.bs").getMercuryID;function l(a){var c=a.allTitlesLoaded,d=a.setTitleIsReady,e=a.setOverflowHeadIsHovered,f=a.onClose,l=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,l);var m=a[1];a=a[0];var n=b("bs_curry")._1(b("MWUILoadThreadTitle.bs").useHook,void 0);n=n[0];var o=b("bs_curry")._1(b("MWUIThreadUnreadMessageCount.bs").useHook,void 0),p=l.NAME,q=p==="Group"?b("MWMSThreadTitle.bs").getTitleForGroup(n!==void 0?n:"",a,m):p==="Page"?b("MWMSThreadTitle.bs").getTitleForPage(l.VAL,a):p==="User"?b("MWMSThreadTitle.bs").getTitleForUser(l.VAL,a,m):b("unrecoverableViolation")("Not supported","messenger_web_product");j.useEffect(function(){q!==void 0&&b("bs_curry")._1(d,l)},[q,d]);n=j.useState(function(){return!1});var r=n[1];p=b("MWChatOpenTabForUser.bs").useHook(void 0,b("MessengerWebEntryPoint").CHAT_HEADS_OVERFLOW);var s=p[0],t=b("MWChatOpenTabForPage.bs").useHook(void 0,b("MessengerWebEntryPoint").CHAT_HEADS_OVERFLOW);a=b("MWChatOpenTabForGroup.bs").useHook(void 0,b("MessengerWebEntryPoint").CHAT_HEADS_OVERFLOW);var u=a[0],v=b("MWChatCloseTab.bs").useHook(b("MessengerWebEntryPoint").CHAT_HEADS_OVERFLOW);if(c&&q!==void 0){m=o>0?h._("{chat title} ({unread message count})",[h._param("chat title",q),h._param("unread message count",String(o))]):q;return j.jsx(b("CometMenuItemBase.react"),{primaryText:j.jsx(b("CometTextWithEntities.react"),{text:m.toString(),transforms:b("MWChatTextTransform.bs").epdTextTransforms}),onClick:function(a){a=l.NAME;a==="Group"?b("bs_curry")._1(u,l.VAL):a==="Page"?b("bs_curry")._1(t,l.VAL):a==="User"?b("bs_curry")._1(s,l.VAL):b("unrecoverableViolation")("Not supported","messenger_web_product");return b("bs_curry")._1(e,function(a){return!1})},onHoverIn:function(a){return b("bs_curry")._1(r,function(a){return!0})},onHoverOut:function(a){return b("bs_curry")._1(r,function(a){return!1})},aux:j.jsx("div",{children:j.jsx(b("TetraIcon.react"),{alt:h._("\u0110\u00f3ng th\u1ebb"),icon:b("fbicon")._(g("478231"),12),onPress:function(a){b("bs_curry")._1(v,l);return b("bs_curry")._1(f,void 0)},onHoverIn:function(a){return b("bs_curry")._1(r,function(a){return!0})},onHoverOut:function(a){return b("bs_curry")._1(r,function(a){return!1})},color:"secondary"}),className:(i||(i=b("stylex")))(k.auxWrapper,n[0]?k.auxVisible:!1)})})}return j.jsx("div",{children:j.jsx(b("CometListItemGlimmer.react"),{imageStyle:"none"}),className:(i||(i=b("stylex")))(k.glimmer)})}d={make:l};function m(a){var c=a.threadID,d=a.allTitlesLoaded,e=a.setTitleIsReady,f=a.setOverflowHeadIsHovered;a=a.onClose;b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,c);return j.jsx(b("MWThread_DEPRECATED.bs").make,{id:c,children:j.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(c),children:j.jsx(l,{allTitlesLoaded:d,setTitleIsReady:e,setOverflowHeadIsHovered:f,onClose:a})})})}e={make:m};function a(a){var c=a.threadIDs,d=a.onClose,e=a.setOverflowHeadIsHovered,f=j.useRef(new Map());a=j.useState(function(){return!1});var g=a[1],h=a[0],i=function(a){f.current.set(b("MWChatThreadId.bs").getMercuryID(a),!0);return b("bs_curry")._1(g,function(a){return c.every(function(a){return b("bs_caml_option").nullable_to_opt(f.current.get(b("MWChatThreadId.bs").getMercuryID(a)))===!0})})};return c.map(function(a){return j.jsx(m,{threadID:a,allTitlesLoaded:h,setTitleIsReady:i,setOverflowHeadIsHovered:e,onClose:d},b("MWChatThreadId.bs").getMercuryID(a))})}a=a;f.styles=k;f.idToThreadIdString=c;f.ThreadItem=d;f.MWChatOverflowTheadItemWrapper=e;f.make=a}),null);
__d("MWChatOverflowHead.bs",["bs_curry","React","bs_caml_array","stylex","MWThreadKey.bs","CometMenu.react","MWChatHeadsShared.bs","MWUIChatThreadHook.bs","MWThread_DEPRECATED.bs","CometPressable.react","MWChatOverflowHeadPicture.bs","CometContextualLayer.react","MWChatOverflowThreadTitleItems.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={chatHeadArea:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"m7zwrmfr",width:"tmrshh9y"}};function a(a){var c=a.hiddenThreadIds,d=a.onHover;a=h.useRef(null);var e=h.useState(function(){return!1}),f=e[1],j=h.jsx(b("MWChatOverflowThreadTitleItems.bs").make,{threadIDs:c,onClose:function(a){},setOverflowHeadIsHovered:f}),k=c.length;c=b("bs_caml_array").get(c,0);b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,c);var l=a.current;return h.jsx("div",{children:h.jsx(b("CometPressable.react"),{onHoverChange:function(a){return b("bs_curry")._1(d,function(b){return a})},overlayDisabled:!0,children:h.jsxs("div",{children:[!(l==null)&&e[0]?h.jsx(b("CometContextualLayer.react"),{align:"middle",position:"end",context_DEPRECATED:l,children:h.jsx(b("CometMenu.react"),{children:j,size:"full",truncate:!0,withArrow:!0})},String(k)):null,h.jsx(b("MWThread_DEPRECATED.bs").make,{id:c,children:h.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(c),children:h.jsx(b("MWChatOverflowHeadPicture.bs").make,{count:k})})},b("MWThread_DEPRECATED.bs").key(c))],className:(g||(g=b("stylex")))(b("MWChatHeadsShared.bs").styles.chatHeadHoverTarget),onMouseEnter:function(a){return b("bs_curry")._1(f,function(a){return!0})},onMouseLeave:function(a){return b("bs_curry")._1(f,function(a){return!1})}})}),ref:a,className:g(i.chatHeadArea)})}c=b("MWChatHeadsShared.bs").styles;d=a;f.styles=i;f.headStyles=c;f.make=d}),null);
__d("MWChatMultitabHeads.bs",["React","bs_caml_obj","stylex","MWThreadKey.bs","MWChatHeadsShared.bs","MWChatMultitabHead.bs","MWChatOverflowHead.bs","MWChatHeadConstants.bs","MWThread_DEPRECATED.bs","CometErrorBoundary.re","MWChatMultitabStateHook.bs","MWChatMultitabNotifications.bs","useCometDisplayTimingTracker","MWChatMultitabHiddenChatHeads.bs","MWChatMultitabVisibleChatHeads.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=a.setIsSomeHeadHovered;a=b("MWChatMultitabVisibleChatHeads.bs").useHook(void 0);var d=b("MWChatMultitabHiddenChatHeads.bs").useHook(void 0),e=b("useCometDisplayTimingTracker")("ChatHead"),f=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0),i=b("MWChatMultitabNotifications.bs").get(f),j=d.length>0;a=a.reduceRight(function(a,d,k){var l=f.openTabsState.some(function(a){a=a.threadID;if(a)return b("bs_caml_obj").caml_equal(a._0,d);else return!1});l=!l&&i.some(function(a){return b("bs_caml_obj").caml_equal(a[0],d)});k="translate3d(0,"+(String(Math.imul(Math.imul(-1,k+(j?1:0)|0),b("MWChatHeadConstants.bs").pixels_between_chat_heads))+"px,0)");a.push(h.jsx(b("MWThread_DEPRECATED.bs").make,{id:d,children:h.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(d),children:h.jsx("li",{children:h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWChatMultitabHead.bs").make,{isSummaryShown:l,onHover:c})}),ref:e,className:(g||(g=b("stylex")))(b("MWChatHeadsShared.bs").styles.chatHead),style:{transform:k}})})},b("MWThread_DEPRECATED.bs").key(d)));return a},[]);d=d.length!==0?h.jsx("li",{children:h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWChatOverflowHead.bs").make,{hiddenThreadIds:d,onHover:c})}),ref:e,className:(g||(g=b("stylex")))(b("MWChatHeadsShared.bs").styles.chatHead)},"overflow"):null;a.push(d);return a}c=b("MWChatHeadsShared.bs").styles;d=a;f.styles=c;f.make=d}),null);
__d("MWLSThreadHasMessages.bs",["React","SkytaleDB","bs_belt_Option","MWThreadKey.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").isSome(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"messages").asc,{hd:d,tl:0})},[c,d])))}f.useThreadHasMessages=a}),null);